
<!-- Post Layout Start -->

<!DOCTYPE html>
<html lang="en">

  
<!-- HEAD Start -->

<head>
  


  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Blog and website of Jay Parchuré, where I express my opinions on all things data.">
  <meta name="author" content="Jayant Parchuré">
  <meta name="keywords" content="parchure, jay, jayant, data-science, analytics, data, visualization, personal, jekyll">
  <link rel="canonical" href="/personal-jekyll-theme/2016/12/08/Adventures-in-Data-Hunting.html">
  <title>{ Jay Parchuré } | Adventures in Data Hunting</title>

  <!-- Bootstrap Core CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

  <!-- Custom CSS -->
  <link href="/personal-jekyll-theme/css/grayscale.css" rel="stylesheet">
  

  <!-- Custom Fonts -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/personal-jekyll-theme/css/rrssb.css" />
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
  
    <link rel="shortcut icon" type="image/x-icon" href="/personal-jekyll-theme/img/favicon.ico">
  

  

  


  <!-- iOS Web App mode -->

  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="apple-touch-icon" sizes="36x36" href="/personal-jekyll-theme/img/web-app/icon-36p.png">
  <link rel="apple-touch-icon" sizes="48x48" href="/personal-jekyll-theme/img/web-app/icon-48p.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/personal-jekyll-theme/img/web-app/icon-72p.png">
  <link rel="apple-touch-icon" sizes="96x96" href="/personal-jekyll-theme/img/web-app/icon-96p.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/personal-jekyll-theme/img/web-app/icon-144p.png">
  <link rel="apple-touch-icon" sizes="192x192" href="/personal-jekyll-theme/img/web-app/icon-192p.png">

  <!-- Android Web App mode -->

  <link rel="manifest" href="/personal-jekyll-theme/manifest.json">




  
<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#FF00FF">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#FF00FF">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">


  


  <!-- Syntax highlight in post pages -->

  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/styles/monokai_sublime.min.css">




</head>

<!-- HEAD End -->


  <body>

    
<!-- Navigation Start -->

<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
        <i class="fa fa-bars"></i>
      </button>
      
        <a class="navbar-brand" href="/personal-jekyll-theme/">
      
          <div>
            
              <img src="/personal-jekyll-theme/img/black-lab-glass.ico" alt="">
            
            { Jay Parchuré }
          </div>
        </a>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
      <ul class="nav navbar-nav">
        
          <!-- Blog, Post, Tag and Error pages -->
          
            <li>
            
                <a href="/personal-jekyll-theme/#about"> About </a>
            
            </li>
          
            <li>
            
                <a href="/personal-jekyll-theme/#faq"> FAQ </a>
            
            </li>
          
            <li>
            
              
                <a href="/personal-jekyll-theme/blog/"> Blog </a>
              
            
            </li>
          
            <li>
            
                <a href="/personal-jekyll-theme/#timeline"> Timeline </a>
            
            </li>
          
            <li>
            
                <a href="/personal-jekyll-theme/#contact"> Contact </a>
            
            </li>
          
        
      </ul>
    </div>
  </div>
</nav>

<!-- Navigation End -->


    <section id="post" class="container content-section text-center">
      <div class="row">
        <div class="col-md-10 col-md-offset-1">

          
<!-- Swipe Instructions Start -->

<div id="swipe-instruction">
  <div>
    <p><br><br><br></p>
    <i id="hand-swipe" class="fa fa-hand-o-up"></i>
    <p><strong>
    
      Did you know that you can navigate the posts by swiping left and right?
    
    </strong></p>
    <button type="button" class="btn btn-default ok-btn close-swipe-instruction">
      
        Awesome!
      
    </button>
  </div>
</div>

<!-- Swipe Instructions End -->


          <h1><strong>Adventures in Data Hunting</strong></h1>
          <h4>
            <strong>08 Dec 2016</strong>
            <small>
              . category:
              <a class="category" href="/personal-jekyll-theme/categories/.html">
                
              </a>.
              <a href="/personal-jekyll-theme/2016/12/08/Adventures-in-Data-Hunting.html#disqus_thread">Comments</a>
              <br />
              
            </small>
          </h4>

          <p>Looking for data on the internet is like playing Pokemon Go- You aim to find as many as you can; there is an abundance of them in easy to access places, but the ones found there are either underwhelming or too common; for the more exotic and powerful ones you have to travel far and beyond. Even when you find one, there is no guarantee that it would be caught easily, it might be evasive, ill-behaved and might need to be knocked down by your tools, which depends on your skill and acumen. After catching you need to train it regularly, earn its respect and become good buddies in order to understand its deeply.
In the end, only if you have the grit and character to tame it, can you acheive eternal glory. This post is one of (hopefully) many to come of my data hunting adventures.</p>

<p>For my next project, I was looking for some data closer to my heart, something I could relate to. So, I browsed to data.gov.in, the Indian equivalent of data.gov to look for datasets on my country. After recently getting back to working out, all my mind could think of was health and fitness, which is what I looked for.  Sadly, all the data on health was either scattered or old, none newer than 2005-06. I took it upon myself to leave no stone unturned in pursuit of the data. I found the location of the data fairly easily, it lay on the website of the <a href="http://rchiips.org/nfhs/"> National Family Health Survey </a>, all bright and shining, divided by States and even districts (Indian equivalent of US Counties) for the year 2015-2016. As the name suggests, the NFHS is a survey of Indian households on key health indicators. The data contains the percentage of people that fulfill certain criterion. But there remained significant obstacles between me and the form of data I could potentially use for analysis.</p>

<p>For starters, the data was split into several bins- one for each state- <strong>and one pdf file per district</strong>. I would have to write a scraper to first pull all the files before I would run into the landmine of pdf parsing. So, I did what any self-respecting data hunter would do- lower my goals. I decided to focus only on my state of residence- Madhya Pradesh- instead of jumping into python and writing a scraper for all 28 states and their thousand odd districts. The task was manual, but not as painstaking, to click on each link and download the file. Five minutes later, I had a folder of fifty pdfs, one for each district.</p>

<p>Anyone who has done data analysis knows that pdf files are only two steps better than having no data (the other step being physical, printed data). Many times, old scanned reports are stored as PDFs, for which there is no alternative other than have to manually enter the data in a different format. Thankfully, these PDFs were digitally created and hence had a defined structure. A big shoutout to the people at <a href="tabula.technology"> Tabula </a> and the creator of it’s <a href="https://github.com/chezou/tabula-py"> python wrapper </a> which made the pdf parsing drastically more simple. All in all the data was well behaved. The file structure was consistent and there was little missing data. More so, even the page numbers of the pages containing tables were same for all pdfs.</p>

<p>But not all was hunky-dory. Instead of boring you with each line of python script (which you can find it on my <a href="https://github.com/jparchure/datasets"> github </a>, under the data folder and then scripts), I will talk about some of the challenges I faced while parsing the files. For starters, the table structure and headings were not consistent. Some of the districts were rural hence their column heading read “Rural”, whereas others were urban. I missed this while picking the sample of pdfs to parse from and had to accommodate this division my code. But this was not all, there existed some districts which were classified as both rural and urban, thus altering the structure of the table and the resulting csv. This taught me the valuable lesson of not jumping to code before manually inspecting a significantly diverse sample of data. Next, the features or the health indicators were inconsistent, as in some of them were one item per row whereas some spanned two based on their length. This caused Tabula to misbehave and I had to manually fix those seven indicators.</p>

<p>But when all was done, the final product came out to be really well. Since it was automated, I can easily extend it to different states by adding a scraper which extracts file of the National Health Survey website. It was my first experience in data gathering from scratch to finish. You can find a copy of the final csv on my github.</p>

<p>Going forward, I hope to add more states by either creating more files or combining all in one single csv file. I also plan to hunt for more data from different domains and discuss my approach in later posts. Should you ever use this data or the scripts, please drop me an email with your analysis as an FYI.</p>


          
<!-- Share Buttons Start -->
<div>
  <ul class="rrssb-buttons clearfix">
    
    
      <li class="rrssb-facebook">
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://jparchure.github.io/personal-jekyll-theme/2016/12/08/Adventures-in-Data-Hunting.html&title=Adventures in Data Hunting" class="popup">
          <span class="rrssb-icon">
            <svg xmlns="https://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" width="29" height="29" viewBox="0 0 29 29"><path d="M26.4 0H2.6C1.714 0 0 1.715 0 2.6v23.8c0 .884 1.715 2.6 2.6 2.6h12.393V17.988h-3.996v-3.98h3.997v-3.062c0-3.746 2.835-5.97 6.177-5.97 1.6 0 2.444.173 2.845.226v3.792H21.18c-1.817 0-2.156.9-2.156 2.168v2.847h5.045l-.66 3.978h-4.386V29H26.4c.884 0 2.6-1.716 2.6-2.6V2.6c0-.885-1.716-2.6-2.6-2.6z"
              class="cls-2" fill-rule="evenodd"/></svg>
          </span>
          <span class="rrssb-text">facebook</span>
        </a>
      </li>
    
    
      <li class="rrssb-twitter">
        <a href="https://twitter.com/share?url=https://jparchure.github.io/personal-jekyll-theme/2016/12/08/Adventures-in-Data-Hunting.html&text=Adventures in Data Hunting"
        class="popup">
          <span class="rrssb-icon"><svg xmlns="https://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path d="M24.253 8.756C24.69 17.08 18.297 24.182 9.97 24.62c-3.122.162-6.22-.646-8.86-2.32 2.702.18 5.375-.648 7.507-2.32-2.072-.248-3.818-1.662-4.49-3.64.802.13 1.62.077 2.4-.154-2.482-.466-4.312-2.586-4.412-5.11.688.276 1.426.408 2.168.387-2.135-1.65-2.73-4.62-1.394-6.965C5.574 7.816 9.54 9.84 13.802 10.07c-.842-2.738.694-5.64 3.434-6.48 2.018-.624 4.212.043 5.546 1.682 1.186-.213 2.318-.662 3.33-1.317-.386 1.256-1.248 2.312-2.4 2.942 1.048-.106 2.07-.394 3.02-.85-.458 1.182-1.343 2.15-2.48 2.71z"/></svg></span>
          <span class="rrssb-text">twitter</span>
        </a>
      </li>
    
    
      <li class="rrssb-linkedin">
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://jparchure.github.io/personal-jekyll-theme/2016/12/08/Adventures-in-Data-Hunting.html" class="popup">
        <span class="rrssb-icon">
          <svg xmlns="https://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
            <path d="M25.424 15.887v8.447h-4.896v-7.882c0-1.98-.71-3.33-2.48-3.33-1.354 0-2.158.91-2.514 1.802-.13.315-.162.753-.162 1.194v8.216h-4.9s.067-13.35 0-14.73h4.9v2.087c-.01.017-.023.033-.033.05h.032v-.05c.65-1.002 1.812-2.435 4.414-2.435 3.222 0 5.638 2.106 5.638 6.632zM5.348 2.5c-1.676 0-2.772 1.093-2.772 2.54 0 1.42 1.066 2.538 2.717 2.546h.032c1.71 0 2.77-1.132 2.77-2.546C8.056 3.593 7.02 2.5 5.344 2.5h.005zm-2.48 21.834h4.896V9.604H2.867v14.73z"
            />
          </svg>
        </span>
        <span class="rrssb-text">linkedin</span>
      </a>
      </li>
    
    
      <li class="rrssb-reddit">
        <a href="https://www.reddit.com/submit?url=https://jparchure.github.io/personal-jekyll-theme/2016/12/08/Adventures-in-Data-Hunting.html&title=Adventures in Data Hunting" target="_blank">
          <span class="rrssb-icon">
            <svg xmlns="https://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
              <path d="M11.794 15.316c0-1.03-.835-1.895-1.866-1.895-1.03 0-1.893.866-1.893 1.896s.863 1.9 1.9 1.9c1.023-.016 1.865-.916 1.865-1.9zM18.1 13.422c-1.03 0-1.895.864-1.895 1.895 0 1 .9 1.9 1.9 1.865 1.03 0 1.87-.836 1.87-1.865-.006-1.017-.875-1.917-1.875-1.895zM17.527 19.79c-.678.68-1.826 1.007-3.514 1.007h-.03c-1.686 0-2.834-.328-3.51-1.005-.264-.265-.693-.265-.958 0-.264.265-.264.7 0 1 .943.9 2.4 1.4 4.5 1.402.005 0 0 0 0 0 .005 0 0 0 0 0 2.066 0 3.527-.46 4.47-1.402.265-.264.265-.693.002-.958-.267-.334-.688-.334-.988-.043z"
              />
              <path d="M27.707 13.267c0-1.785-1.453-3.237-3.236-3.237-.792 0-1.517.287-2.08.76-2.04-1.294-4.647-2.068-7.44-2.218l1.484-4.69 4.062.955c.07 1.4 1.3 2.6 2.7 2.555 1.488 0 2.695-1.208 2.695-2.695C25.88 3.2 24.7 2 23.2 2c-1.06 0-1.98.616-2.42 1.508l-4.633-1.09c-.344-.082-.693.117-.803.454l-1.793 5.7C10.55 8.6 7.7 9.4 5.6 10.75c-.594-.45-1.3-.75-2.1-.72-1.785 0-3.237 1.45-3.237 3.2 0 1.1.6 2.1 1.4 2.69-.04.27-.06.55-.06.83 0 2.3 1.3 4.4 3.7 5.9 2.298 1.5 5.3 2.3 8.6 2.325 3.227 0 6.27-.825 8.57-2.325 2.387-1.56 3.7-3.66 3.7-5.917 0-.26-.016-.514-.05-.768.965-.465 1.577-1.565 1.577-2.698zm-4.52-9.912c.74 0 1.3.6 1.3 1.3 0 .738-.6 1.34-1.34 1.34s-1.343-.602-1.343-1.34c.04-.655.596-1.255 1.396-1.3zM1.646 13.3c0-1.038.845-1.882 1.883-1.882.31 0 .6.1.9.21-1.05.867-1.813 1.86-2.26 2.9-.338-.328-.57-.728-.57-1.26zm20.126 8.27c-2.082 1.357-4.863 2.105-7.83 2.105-2.968 0-5.748-.748-7.83-2.105-1.99-1.3-3.087-3-3.087-4.782 0-1.784 1.097-3.484 3.088-4.784 2.08-1.358 4.86-2.106 7.828-2.106 2.967 0 5.7.7 7.8 2.106 1.99 1.3 3.1 3 3.1 4.784C24.86 18.6 23.8 20.3 21.8 21.57zm4.014-6.97c-.432-1.084-1.19-2.095-2.244-2.977.273-.156.59-.245.928-.245 1.036 0 1.9.8 1.9 1.9-.016.522-.27 1.022-.57 1.327z"
              />
            </svg>
          </span>
          <span class="rrssb-text">reddit</span>
        </a>
      </li>
    
    
    
    
    
    
  </ul>
</div>

<!-- Share Buttons End -->


          


          <hr />

          
        </div>
      </div>
    </section>

    <!-- Footer Start -->

<footer>

    <!-- Social Buttons Start -->

<ul class="list-inline social-buttons">
    
    <li><a href="https://www.twitter.com/jparchure" target="_blank"><i class="fa fa-twitter fa-fw"></i></a></li>
    
    <li><a href="https://www.github.com/PanosSakkos/personal-jekyll-theme" target="_blank"><i class="fa fa-github fa-fw"></i></a></li>
    
    <li><a href="https://www.linkedin.com/in/jayantparchure" target="_blank"><i class="fa fa-linkedin fa-fw"></i></a></li>
    
    <li><a href="/feed.xml" target="_blank"><i class="fa fa-rss fa-fw"></i></a></li>
    
    
    <li><a href="https://keybase.io/jparchure" target="_blank"><i class="fa fa-key fa-fw"></i></a></li>
    
</ul>

<!-- Social Buttons End -->


    <p><br><br></p>

    <div class="container text-center">
        <p>Copyright &copy; Jayant Parchuré 2016</p>
        
        <p style="font-size: 16px;"><a href="https://keybase.io/jparchure" target="_blank"><i
                class="fa fa-key"></i> jparchure on Keybase</a></p>
        
    </div>
</footer>

<p><br><br><br><br><br><br></p>

<!-- Footer End -->


    
<!-- Javascript Start -->

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<!-- Plugin JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

<!-- Custom Theme JavaScript -->
<!--* Start Bootstrap - Grayscale Bootstrap Theme (http://startbootstrap.com)
* Code licensed under the Apache License v2.0.
* For details, see http://www.apache.org/licenses/LICENSE-2.0.-->
<script>
function toggleNavCollapse(){50<$(".navbar").offset().top?$(".navbar-fixed-top").addClass("top-nav-collapse"):$(".navbar-fixed-top").removeClass("top-nav-collapse");}
$(document).ready(toggleNavCollapse);
$(window).scroll(toggleNavCollapse);$(function(){$("a.page-scroll").bind("click",function(b){var a=$(this);$("html, body").stop().animate({scrollTop:$(a.attr("href")).offset().top-50},1500,"easeInOutExpo",function(){a.blur()});b.preventDefault()})});$(".navbar-collapse ul li a").click(function(){$(".navbar-toggle:visible").click()});
</script>





  <!-- Syntax highlight in post pages-->

  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>









  <!-- Share buttons Start -->

  <script src="/personal-jekyll-theme/js/rrssb.min.js"></script>

  <!-- Share buttons End -->





<script>
function addTohistory() {
  if (!window.location.host.startsWith("127.0.0.1")) {
    history.pushState({}, 'Adventures in Data Hunting', 'https://jparchure.github.io/personal-jekyll-theme/2016/12/08/Adventures-in-Data-Hunting.html');
  }
}
</script>

<!-- Gesture Navigation / Swipe Instruction Start -->


  

    <!-- Post Gesture Navigation Start -->

    <script type="text/javascript" src="/personal-jekyll-theme/js/hammer.min.js"></script>

    <script>
      var post = document.getElementById('post');

      new Hammer(post).on('swipeleft', function(event) {
        addTohistory();
        
          document.location.replace("/personal-jekyll-theme/2016/11/21/ACT-Symposium.html");
        
      });

      new Hammer(post).on('swiperight', function(event) {
        addTohistory();
        
          document.location.replace("/personal-jekyll-theme");
        
      });
    </script>

    <!-- Post Gesture Navigation Start -->

  

  

  

  

    <!-- Swipe Instructions for Post Start -->

    <script>
      $(document).ready(function(){
        if(!localStorage.getItem('post-swipeshowed')){
          $("#swipe-instruction").fadeIn();
          $("#swipe-instruction .close-swipe-instruction").click(function(){
            $("#swipe-instruction").fadeOut();
          });
          localStorage.setItem('post-swipeshowed', true);
        }
      });
    </script>

    <!-- Swipe Instructions for Post End -->

  

<!-- Gesture Navigation / Swipe Instruction End -->



<!-- Javascript End -->


  </body>
</html>

<!-- Post Layout End -->
